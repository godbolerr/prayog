<div data-ng-include='"fragments/header.html"'></div>

<div class="ch-container">

	<div class="row">
		<div class="alert alert-success" data-ng-if="ifSuccess">
			<a href="" class="close" data-dismiss="alert" aria-label="close">&times;</a>
			{{successMessage}}
		</div>
		<div class="alert alert-danger" data-ng-if="ifFaliure">
			<a href="" class="close" data-dismiss="alert" aria-label="close">&times;</a>
			{{errorMessage}}
		</div>
	</div>
	<!-- End of row -->

	<div class="row">
		<div id="content" class="col-lg-12">
			<!-- content starts -->
			<div class="row">
				<div class="box">
					<div class="box-inner">
						<div class="new-header well">
							<h2>
								<i class="glyphicon glyphicon-th"></i>&nbsp;Entities
							</h2>
							<span class="pull-right col-sm-1"> <a
								href="{{APP_CONSTANT.HASH_VAL}}{{ROUTES.PROJECT_ADD}}">
									<button type="button" class="btn btn-success btn-xs">
										<i class="glyphicon glyphicon-plus"></i> Add Project
									</button>
							</a>
							</span> <span class="pull-right col-sm-2 search-top"> <input type="text"
								class="form-control input-sm" data-ng-model="searchKeyword"
								placeholder="Search" />
							</span>

						</div>
						<div class="row">

							<!-- <pre>Sorting predicate = {{sortType}}; reverse = {{sortReverse}}</pre> -->
							<div class="box col-md-12">
								<div class="box-content">
									<div class="row"></div>
									<!-- Insert Table Start Here -->
									<div style="height: 350px; overflow: auto;">

										<table id="entity"
											class="table table-striped table-bordered table-hover table-condensed">
											
											 <col style="width:3%">
											<tr data-ng-show="entityLists.length==0">
												<td style="vertical-align: middle;"><i
													class="glyphicon glyphicon-ban-circle active"></i>&nbsp;No
													entities available, please add new Entity!!!</td>
											</tr>

											<thead data-ng-show="entityLists.length>0">
												<tr class="info">
													<th class="idp"><font class="headcolor">Id</font></th>
													<th class="col-sm-3"><a href=""
														data-ng-click="sortType = 'name'; sortReverse = !sortReverse">
															<font class="headcolor">Name </font><span
															data-ng-show="sortType == 'name' && !sortReverse"
															class="fa fa-caret-down"></span> <span
															data-ng-show="sortType == 'name' && sortReverse"
															class="fa fa-caret-up"></span>
													</a></th>
													<th class="col-sm-4"><font class="headcolor">Description</font></th>
													<th class="col-sm-1 text-center"><a href=""
														data-ng-click="sortType = 'status'; sortReverse = !sortReverse">
														<font class="headcolor">
															Status </font><span
															data-ng-show="sortType == 'status' && !sortReverse"
															class="fa fa-caret-down"></span> <span
															data-ng-show="sortType == 'status' && sortReverse"
															class="fa fa-caret-up"></span>
													</a></th>
													<th class="col-sm-2 text-center"><font class="headcolor">Actions</font></th>

												</tr>
											</thead>

											<tbody>

												<tr
													data-ng-repeat="entity in entityLists | orderBy:sortType:sortReverse | filter: searchKeyword "
													id="row_{{entity.id}}">

													<td>{{$index+1}}</td>
													<td>{{entity.name}}</td>
													
													<td><span class="abbreviation" data-ng-trigger="hover"
														data-ng-placement="right"
														title="{{entity.summary}}"
														data-ng-toggle="tooltip">{{entity.summary}}</span></td>
													<td class="text-center"><span data-ng-switch
														data-on="entity.status"> <span
															class="label label-success" data-ng-switch-when="Active">{{entity.status}}</span>
															<span class="label label-danger"
															data-ng-switch-when="Pending">{{entity.status}}</span>
															<span class="label label-default" data-ng-switch-default>{{entity.status}}</span>
													</span></td>

													<!-- <td class="text-center" ><a href="{{APP_CONSTANT.HASH_VAL}}{{ROUTES.CATALOGUE_LIST}}/{{entity.id}}"> <i class="fic glyphicon glyphicon-list" title="View Catalogue"></i></a></td>	 -->

													<td class="text-center"><a role="button" tabindex="0"
														title="Edit Project"
														data-ng-click="updateProject(entity)"
														class="titip-left" data-title="Update"> <i
															class="fic glyphicon glyphicon-pencil"></i>
													</a> <span>&nbsp;&nbsp;</span> <a
														data-ng-click="getCatalogue(entity)"> <i
															class="fic glyphicon glyphicon-list"
															title="View Catalogue"></i></a></td>

												</tr>
											</tbody>
										</table>
										<p
											data-ng-show="(entityLists | filter: searchKeyword).length == 0 &&  searchKeyword.length>0">No
											matching records found</p>

									</div>
									<!-- Insert Table End Here -->
								</div>
								<!-- row -->
							</div>
							<!-- box content -->
						</div>
						<!--/row-->
					</div>
					<!-- /box inner-->
				</div>
				<!--/box-->
			</div>
			<!--/.row-->
		</div>
		<!--/.main row-->
	</div>
	<!--/.container-->
</div>
<!-- /#container -->

